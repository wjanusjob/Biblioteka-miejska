function testsql(){
  
  var mysql = require('mysql');
  
  var con = mysql.createConnection({
    host: "localhost",
    user: "wojtek",
    password: "1234",
    database: 'tinschema'
  });
sql = "select nazwa from Gatunek";
con.connect(function(err) {
  if (err) throw err;
  console.log("Connected!");
  con.query(sql, function (err, result, fields) {
    if (err) throw err;
    console.log(result);
  });
  con.query('select nazwa from Wydawnictwo', function (err, result, fields) {
    if (err) throw err;
    console.log(result);
  });
});
}
/* promise nie dziala 
con.connect(function(err) {
    if (err) throw err;
    console.log("Connected!");
  var resultgatunek = [];
  var resultWydawnictwo = [1];
  con.query(sqlNazwaGatunek).then(rows=>
     {
      
      resultgatunek =  rows;
      return con.query(sqlNazwaWydawnictwo);
    })
    .then(rows => {
      resultWydawnictwo = rows;
      return con.close();

    },err=> {
      return con.close().then(() => {throw err;})
    })
    .then(()=>{
      obj.selectWydawnictwo = resultWydawnictwo;
      obj.selectoptions = resultgatunek;
    })
*/
//testsql();
// --- 

/*
function getSelect(sql,callback){
  var arr = new Array;
    var result;
    var connection = mysql.createConnection({
      host    : "localhost",
      user    : "wojtek",
      password: "1234",
      database: 'tinschema'
    });

    connection.connect();

    connection.query(sql, function(err, rows, fields){
      if (err) throw err;
      arr = rows.slice()
      callback(arr);
 });
 connection.end();

}

function getDefault2(headertext) {
  var resultgatunek
  let resultWydawnictwo = [1];

  getSelect(sqlNazwaWydawnictwo, function(arr){
    // use arr
    resultWydawnictwo = arr;
    
  });
  
  
  var obj = {
    
    headertext: headertext,
    logged: false,
    selectoptions: resultgatunek,
    selectWydawnictwo: resultWydawnictwo
    
  }
  return obj;
}
*/




// function getDefault(headertext) {
//   var resultgatunek
//   let resultWydawnictwo = [1];
  
//     sqlNazwaGatunek = 'select nazwa from Gatunek';
//     sqlNazwaWydawnictwo = "select nazwa from Wydawnictwo";
  
  
//   con.connect(function(err) {
//     if (err) throw err;
//     console.log("Connected!");
//     con.query(sqlNazwaGatunek, function (err, result, fields) {
//       if (err) throw err;
//       resultgatunek =  result;
//     });
//     con.query(sqlNazwaWydawnictwo, function (err, result, fields) {
//       if (err) throw err;
//       var i;
//       temptab = [];
//       for (i = 0; i < result.length; i++) { 
//         temptab.push(result[i].nazwa);
        
//       }
//       resultWydawnictwo = temptab.slice();
//       console.log('pierwsze');
//       console.log(resultWydawnictwo);
      
      
//     });
    
//   });
//   console.log('drugie');
  
//   var obj = {
    
//     headertext: headertext,
//     logged: false,
//     selectoptions: resultgatunek,
//     selectWydawnictwo: resultWydawnictwo
    
//   }
// return obj;
// }


